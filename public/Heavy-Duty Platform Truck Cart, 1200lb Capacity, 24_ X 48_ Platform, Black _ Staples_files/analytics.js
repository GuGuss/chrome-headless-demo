!function(){var r={};r.protocol="https:"==document.location.protocol?"https://":"http://",r.canEncode="function"==typeof encodeURIComponent&&"~%60!1Az%40%23%24%25%5E%26*()-_%2B%3D%7B%5B%7D%5D%7C%3A%3B'%3C%2C%3E.%3F%2F"===encodeURIComponent("~`!1Az@#$%^&*()-_+={[}]|:;'<,>.?/");var t=window.crypto&&window.crypto.getRandomValues?function(){return 2147483647&window.crypto.getRandomValues(new Uint32Array(1))[0]}:function(){return 2147483647*Math.random()|0};r.getCookie=function(t,c){return 0<=document.cookie.indexOf(t+"=")?function(){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){for(var o=e[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t+"="))return c(o.substring((t+"=").length,o.length))}}():c(void 0)};r.getCookie("_cplid",function(e){r.uuid=e}),r.uuid||(r.uuid=t().toString(16)+t().toString(16)+t().toString(16)+t().toString(16)+(new Date).getTime().toString(16),function(){for(var n,e,o=document.location.hostname.split("."),t="";;){var c=o.pop();if(void 0===c)break;if(e=t="."+c+t,document.cookie="_cplid="+r.uuid+"; expires=Fri, 1 Jan 2021 00:00:00 UTC; path=/; domain="+e,r.getCookie("_cplid",function(e){n=e}),n===r.uuid)break}}()),r.clientId="staples",r.setClient=function(){r.clientId="staples"},r.recordCustomer=function(e){r.recordAction("custid","&custid="+encodeURIComponent(e))},r.recordSku=function(e){r.recordAction("sku","&sku="+encodeURIComponent(e))},r.recordTrans=function(e){r.recordAction("trans","&sku="+encodeURIComponent(e.sku)+"&amount="+encodeURIComponent(e.amount)+"&margin="+encodeURIComponent(e.margin)+"&t_id="+encodeURIComponent(e.transaction_id)+"&quantity="+encodeURIComponent(e.quantity))},r.recordAction=function(e,n){if(r.clientId&&r.canEncode){n||(n="");var o=r.protocol+"api.coherentpath.com/tracker/v1/pixel?r="+t().toString(16)+"&clientId="+encodeURIComponent(r.clientId)+"&cplid="+r.uuid+"&action="+encodeURIComponent(e)+"&ref="+encodeURIComponent(document.referrer)+n+"&loc="+encodeURIComponent(document.location.href);_cp.redirect_url&&(o=_cp.redirect_url+encodeURIComponent(o+_cp.redirect_args)),(new Image).src=o}},_cp.queue=_cp.queue||[],_cp.queue.push=function(e){var n=Array.prototype.slice.call(e),o=r[n.shift()];if(o)return o.apply(this,n)};for(var e=0;e<_cp.queue.length;e++)_cp.queue.push(_cp.queue[e]);_cp.redirect_url="",_cp.redirect_args=""}(),function(){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var o=e[n],t=0==o.indexOf("om_rid="),c=!!o.split("=")[1];if(t&&c){window._cp("recordCustomer",o.split("=")[1]);break}}}(),_cp.redirect_url="//pixel.mathtag.com/sync/img?redir=",_cp.redirect_args="&mm_uuid=[MM_UUID]",_cp("recordAction","pageview");