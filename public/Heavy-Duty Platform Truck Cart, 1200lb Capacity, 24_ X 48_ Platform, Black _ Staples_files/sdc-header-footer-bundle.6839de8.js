!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,r){"use strict";function a(){return $("#mmx-header").data("locale")||"en_US"}function n(){var e=a();return"en_CA"===e||"fr_CA"===e?"20001":"10001"}function o(){var e=a();return"en_CA"===e?"1":"fr_CA"===e?"2":"-1"}function s(){var e="10051",t=a();return"en_CA"===t||"fr_CA"===t?langId="20051":e="10051",e}e.exports={getCustomerLocale:a,getStoreIdFromLocale:n,getLangIdFromLocale:o,getCatalogIdFromLocale:s}},function(e,t,r){"use strict";function a(e){if("undefined"!=typeof document){for(var t=document.cookie.split(";"),r=t.length,a=e+"=",n=void 0,o=0;r>o;o+=1)if(n=t[o].replace(/^\s\+/g,"").trim(),0==n.indexOf(a))return decodeURIComponent(n.substring(a.length,n.length));return""}return""}function n(e,t,r,a){"undefined"!=typeof document&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/")}e.exports={getCookie:a,setCookie:n}},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(3),s=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(9);s.default.isProduction(),s.default.getTenant();t.default=new(function(){function e(){var t=this;a(this,e),$(function(){t.eventInterceptor()})}return n(e,[{key:"navTrack",value:function(e,t){"string"==typeof t&&(t=t.split(","));var r={type:e,value:t};try{window.ae.adapter.navTrack(r)}catch(e){console.log("failed to call analytics navTrack Method: "+e)}}},{key:"searchBox",value:function(e,t,r,a,n,o){var s={type:"SEARCH",entry:e,payload:{term:t,autocomplete:r,category:a,bannerName:o,suggestedTerm:n}};try{window.ae.adapter.searchBox(s)}catch(e){console.log("failed to call analytics searchBox Method: "+e)}}},{key:"pfmTrack",value:function(e,t,r,a,n,o,s,i){var c={type:e,sku:t,locator:{primary:r,secondary:a,location:null,recType:null,supplemental:{strategy:s,title:i}}};try{window.ae.adapter.pfmTrack(c)}catch(e){console.log("failed to call analytics pfmTrack Method: "+e)}}},{key:"inkTonerTrack",value:function(e,t,r,a,n,o){var s={type:e,payload:{term:t,linkType:r,path:a,location:n,widget:o}};try{window.ae.adapter.inkTonerTrack(s)}catch(e){console.log("failed to call analytics inkTonerTrack Method: "+e)}}},{key:"linkTrack",value:function(e,t,r,a,n,o,s){var i={type:e,payload:{linkTo:t,text:r,path:a,location:n,widget:o,position:s}};try{window.ae.adapter.linkTrack(i)}catch(e){console.log("failed to call analytics linkTrack Method: "+e)}}},{key:"ctaInit",value:function(e){function t(t,r,a,n,o,s,i,c,u,l,d,h){return e.apply(this,arguments)}return t.toString=function(){return""+e},t}(function(e,t,r,a,n,o,s,i,c,u,l,d){var h={type:e,payload:{items:t,cartTotal:r,cartSize:a,linkTypeSc:n,shipMethod:{type:o,zipcode:s},promotions:i,locator:{primary:c,secondary:u,location:l,recType:d}}};return ctaInit(h)})},{key:"ctaInit",value:function(e){try{return window.ae.adapter.ctaInit(e)}catch(e){console.log("failed to call analytics ctaInit Method: "+e)}}},{key:"ctaResponse",value:function(e){function t(t,r,a,n,o,s,i,c,u,l,d,h,f,p){return e.apply(this,arguments)}return t.toString=function(){return""+e},t}(function(e,t,r,a,n,o,s,i,c,u,l,d,h,f){var p={ctaId:e,message:t,type:r,payload:{items:a,cartTotal:n,cartSize:o,linkTypeSc:s,shipMethod:{type:i,zipcode:c},promotions:u,locator:{primary:l,secondary:d,location:h,recType:f}}};ctaResponse(p)})},{key:"ctaResponse",value:function(e){try{window.ae.adapter.ctaResponse(e)}catch(e){console.log("failed to call analytics ctaResponse Method: "+e)}}},{key:"storeLocatorTrack",value:function(e,t){var r={type:t,payload:{term:e,location:"FLYOUT"}};try{window.ae.adapter.storeLocatorTrack(r)}catch(e){console.log("failed to call analytics storeLocatorTrack Method: "+e)}}},{key:"offerSubscribeTrack",value:function(e){var t={type:"SUBSCRIBE",payload:{term:e,location:"FOOTER"}};try{window.ae.adapter.subscribe(t)}catch(e){console.log("failed to call analytics subscribe Method: "+e)}}},{key:"contentLoading",value:function(){try{window.ae.adapter.contentloading()}catch(e){console.log("failed to call analytics contentloading: "+e)}}},{key:"isAnalyticsObjectReady",value:function(){var e=this,t=0,r=setInterval(function(){try{if(++t>=100){var a="Analytics failed to load in 100 tries !";throw console.log(a),clearInterval(r),a}"undefined"!=typeof s_omniPageLoadTrack?(clearInterval(r),console.log("ANALYTICS READY! Content loaded is triggered from s_omniPageLoadTrack")):e.isAnalyticsAvailable()&&(e.contentLoaded(),console.log("ANALYTICS READY! loaded successfully in "+t+" tries!"),clearInterval(r))}catch(e){console.log("isAnalyticsObjectReady ERROR!",e),clearInterval(r)}},10)}},{key:"isAnalyticsAvailable",value:function(){var e=!1;try{e=!!(void 0!==window.Analytics&&window.Analytics&&window.Analytics.global&&window.Analytics.traffic&&window.ae&&window.ae.adapter&&window.ae.adapter.contentloaded&&window.ae.adapter.contentloading),e||console.log("ANALYTICS NOT READY!")}catch(e){throw e}return e}},{key:"contentLoaded",value:function(){try{window.ae.adapter.contentloaded()}catch(e){console.log("failed to call analytics contentloaded: "+e)}}},{key:"topHatLinkTrack",value:function(e){var t={type:"GENERIC_LINK",payload:{linkTo:"/",text:e}};try{window.ae.adapter.linkTrack(t)}catch(e){console.log("failed to call analytics tophat link Method: "+e)}}},{key:"returnAnalyticsNode",value:function(e){var t=e.target||e.srcElement,r=$(t);if(r.data("analyticstype"))return r;if("BODY"!==e.currentTarget.nodeName&&"#document"!==e.currentTarget.nodeName){var a=r.find("[data-analyticstype]");if(0!==a.length)return $(a[0])}return""}},{key:"allowEventthrough",value:function(e,t){return"BODY"!==e.target.tagName&&"DOCUMENT"!==e.target.tagName&&"BODY"!==e.currentTarget.tagName&&((!$(t).attr("id")||"mainNgApp"!==$(t).attr("id"))&&($(e.target).closest(".header-footer-container").length>0&&"search-products-txt-box"!==$(e.target).attr("id")&&e.stopPropagation(),!0))}},{key:"eventInterceptor",value:function(){var e=e||Element,t=e.prototype.addEventListener,r=this;e.prototype.addEventListener=function(e,a,n){if($(this).closest(".header-footer-container").length>0){t.call(this,e,function(t){if("click"===e&&r.allowEventthrough(t,this)){var n=r.returnAnalyticsNode(t);n&&r.makeAnalyticsCall(n)}a(t)},n)}else t.call(this,e,a,n)}}},{key:"makeAnalyticsCall",value:function(e){var t=e.data("analyticstype")||"",r=e.data("analyticsdata")||e.data("analyticdata")||"";if(t&&r){var a=r.location||"",n=r.primary||"",o=r.secondary||"",s=r.rectype||"",c=r.position||"",u=r.sku||"",l=r.suplstrategy||"",d=r.supltitle||"",h=r.term||"",f=r.linkType||"",p=r.path||"",m=r.widget||"",y=r.text||"",g=r.linkTo||"",v=r.entry||"",b=r.suggestion||"",S=r.department||"",_=r.suggestedTerm||"",w=r.bannerName||"",A=r.ctaId||"",C=r.message||"",T=r.items||"",k=r.cartTotal||"",$=r.cartSize||"",x=r.linktypesc||"",E=r.shipType||"",P=r.zipcode||"",I=r.promotions||"";t==i.PFM?this.pfmTrack(t,u,n,o,a,s,l,d):t==i.GENERIC_LINK?this.linkTrack(t,g,y,p,a,m,c):t==i.SEARCH?this.searchBox(v,h,b,S,_,w):t==i.ADD_TO_CART?A?this.ctaResponse(A,C,t,T,k,$,x,E,P,I,n,o,a,s):this.ctaInit(t,T,k,$,x,E,P,I,n,o,a,s):t==i.ITF_BANNER?this.linkTrack(t,g,y,p,a,m,c):t==i.BRAND||t==i.SERIES||t==i.MODEL?this.inkTonerTrack(t,h,f,p,a,m):t===i.TOPHAT?this.topHatLinkTrack(r):this.navTrack(t,r)}}}]),e}())},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(0),s=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(s),c=(0,o.getCustomerLocale)()||"en_US",u=c.replace("_","-"),l=c.split("_")[1];t.default=new(function(){function e(){var t=this;a(this,e),$(function(){t.overrideFavIcon(),0===$("#mmx-header").length&&t.loadMMXStyles();try{document.cookie="=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}catch(e){console.log("error in clearing empty cookie dropped by nginx",e)}})}return n(e,[{key:"newServiceContext",value:function(){return new ServiceContext("StaplesDotCom",u,"WEB",l,"19355")}},{key:"getLocale",value:function(){return c}},{key:"getLocalHyphenated",value:function(){return u}},{key:"getCountryCode",value:function(){return l}},{key:"getTenant",value:function(){return"StaplesDotCom"}},{key:"isProduction",value:function(){return window.G_IS_PRODUCTION}},{key:"loadMMXStyles",value:function(){var e=document.createElement("link");e.type="text/css",e.href="/mmx/static/css/staples-mmx-08969.css",e.rel="stylesheet",$("head").prepend(e)}},{key:"overrideFavIcon",value:function(){var e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href="https://assets.staples-static.com/sbd/cre/products/190317/dg19214/images/icon_favicon_vox_icon.ico",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"loadKaptchaJS",value:function(){var e=i.default.getCookie("JSESSIONID");if(e){var t="https://tst.kaptcha.com/collect/sdk?m=101100&s="+e,r=document.createElement("script"),a=document.getElementsByTagName("body")[0];r.type="text/javascript",r.src=t,a.appendChild(r)}}}]),e}())},function(e,t,r){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e=$.trim(e).replace(/\s+/g," ");var s=i(e),u=c(e),l="/"+s+"/directory_"+u;return"en_US"!==f.default.getCustomerLocale()&&(l=l+"_"+f.default.getCatalogIdFromLocale()+"_"+f.default.getLangIdFromLocale()+"_"+f.default.getStoreIdFromLocale()),t?l+="?fids="+n(t):r?l+="?autocompletesearchkey="+u:a?l+="?categoryId="+a:o&&(l+="?deptFid="+n(o)),l}function n(e){var t="Department_3A_22";return"fr_CA"===f.default.getCustomerLocale()&&(t="D_C3_A9partement_3A_22"),t+o(e)+"_22"}function o(e){var t="";e=e.replace(/"/,'\\"'),e=unescape(encodeURIComponent(e));for(var r=0;e.length>r;++r){var a=e.charAt(r);if(s(a))t=t.concat(a);else if(" "==a)t=t.concat("!");else{t=t.concat("_");var n=(+a.charCodeAt(0)).toString(16).toUpperCase();1==n.length&&(n="0"+n),t=t.concat(n)}}return t}function s(e){return e>="0"&&"9">=e||e>="A"&&"Z">=e||e>="a"&&"z">=e||"("==e||")"==e||"-"==e||"."==e}function i(e){return e="fr_CA"===f.default.getCustomerLocale()?e.replace(/[^a-zA-Z0-9\u00C0-\u017F]+/g,"+"):e.replace(/[^a-zA-Z0-9]+/g,"+"),"+"==e.charAt(e.length-1)&&(e=e.slice(0,-1)),"+"==e.charAt(0)&&(e=e.slice(1)),""===e&&(e="+"),e}function c(e){return e=e.replace(/[%<>]/g," "),e=e.trim().replace(/\s+/g," "),e=encodeURIComponent(e).replace("~","%7E").replace("'","%27"),encodeURIComponent(e)}function u(e){var t,r,a=0;if(0===e.length)return a;for(t=0;e.length>t;t++)r=e.charCodeAt(t),a=(a<<5)-a+r,a|=0;return a}function l(e){var t=null;if("undefined"!=typeof sessionStorage&&sessionStorage[e])try{t=JSON.parse(sessionStorage[e])}catch(t){console.log("Unable to fetch "+e+" from session storage.")}return t}function d(e,t){if("undefined"!=typeof sessionStorage)try{sessionStorage[e]=JSON.stringify(t)}catch(t){console.log("Unable to save "+e+" to session storage.")}}var h=r(0),f=function(e){return e&&e.__esModule?e:{default:e}}(h);e.exports={makeSearchHref:a,makeBloomreachDeptId:n,staplesEncode:o,isStaplesNoEncodingNeeded:s,formatTermLink:i,formatTerm:c,hashCode:u,getFromSessionStorage:l,saveToSessionStorage:d}},function(e,t,r){"use strict";e.exports={LANG:{en_US:{currency:"USD",deptIn:" in ",deptAll:" in All Departments",popularSearches:"Keyword Matches",pastSearches:"Past Searches",pastPurchases:"Past Purchases",categoryId:"12328",addToCart:"Add to Cart",viewAll:"View all",bannerDocId:"h::sdc::4c4f16f6-0ad9-4bd9-b1bf-ff05c1f0a2c8"},en_CA:{currency:"CAD",deptIn:" in ",deptAll:" in All Departments",popularSearches:"Keyword Matches",pastSearches:"Past Searches",pastPurchases:"Past Purchases",categoryId:"40642",addToCart:"Add to Cart",viewAll:"View all",bannerDocId:""},fr_CA:{currency:"CAD",deptIn:" dans ",deptAll:" dans Tous les D&eacute;partements",popularSearches:"Recherche par mot-cl&#xE9;",pastSearches:"Historique",pastPurchases:"Achats ant&#xE9;rieurs",categoryId:"40642",addToCart:"Ajouter au panier",viewAll:"Tout voir",bannerDocId:""}}}},function(e,t,r){r(7),e.exports=r(29)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(3),o=a(n),s=r(8),i=a(s),c=r(10),u=a(c),l=r(11),d=a(l),h=r(14),f=a(h),p=r(16),m=a(p),y=r(17),g=a(y),v=r(18),b=a(v),S=r(21),_=a(S),w=r(22),A=a(w);r(23).polyfill(),r(27),window.CommonModule=o.default,window.OffersModule=i.default,window.SearchService=u.default,window.YourStore=d.default,window.MyAccount=f.default,window.Connect=m.default,window.InkAndTonerService=g.default,window.CartService=b.default,window.FooterService=_.default,window.SMBrowse=A.default},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(2),s=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=new(function(){function e(){var t=this;a(this,e),$(function(){t.attachSignupKeyEvent()})}return n(e,[{key:"attachSignupKeyEvent",value:function(){var e=this;$("#offer_subscribe_email").on("keypress",function(t){13===(t.charCode?t.charCode:t.which)&&(t.preventDefault(),e.handleSignupClick())})}},{key:"validateEmail",value:function(e){return!!/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(e.toLowerCase())}},{key:"getErrMessage",value:function(){return"You have entered an invalid email address, please try again"}},{key:"handleSignupClick",value:function(){var e=$("#offer_subscribe_email").val();if(e&&""!==e){this.validateEmail(e)?(this.emailSignupPost(e),s.default.offerSubscribeTrack(e)):($("#offers-error-msg").css("display","block"),$("#offers-error-msg").css("visibility","visible"),$("#offers-api-error-msg").css("display","none"),$(".offer_subscribe .mmx-button").addClass("error-msg-visible"))}else $("#offers-error-msg").css("display","block"),$("#offers-error-msg").css("visibility","visible"),$("#offers-api-error-msg").css("display","none"),$(".offer_subscribe .mmx-button").addClass("error-msg-visible")}},{key:"emailSignupPost",value:function(e){var t={email:e,emailPermissionStatus:"I",optStatusPromo:"Y",sourceCode:"HMP"};$.ajax({url:"/emailsub/subscribe?tenantId=StaplesDotCom",type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(e,t,r){if("string"!=typeof e.status||"success"!==e.status.toLowerCase()||200!=r.status)throw $("#offers-api-error-msg").css("display","block"),$("#offers-error-msg").css("display","none"),$(".offer_subscribe .mmx-button").addClass("error-msg-visible"),Error("Bad response from server");$("#offer_subscribe").hide(),$("#offer_subscribe_success").show()},error:function(e,t,r){$("#offers-api-error-msg").css("display","block"),$("#offers-error-msg").css("display","none"),$(".offer_subscribe .mmx-button").addClass("error-msg-visible")}})}}]),e}())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FLYOUT="FLYOUT",t.HEADER="HEADER",t.FOOTER="FOOTER",t.SEARCH="SEARCH",t.ADD_TO_CART="ADD_TO_CART",t.PFM="PFM",t.GENERIC_LINK="GENERIC_LINK",t.ITF_BANNER="ITF_BANNER",t.BRAND="BRAND",t.SERIES="SERIES",t.MODEL="MODEL",t.CART="CART",t.YOURSTORE="Your Store",t.TOPHAT="TOPHAT"},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(4),i=a(s),c=r(1),u=r(2),l=a(u),d=r(0),h=r(5),f=a(h);t.default=new(function(){function e(){var t=this;n(this,e),$(function(){t.storeId=(0,d.getStoreIdFromLocale)(),t.searchTracking=(0,c.getCookie)("searchTracking"),t.langId=(0,d.getLangIdFromLocale)(),t.catalogId=(0,d.getCatalogIdFromLocale)(),t.locale=(0,d.getCustomerLocale)(),t.currencyFormatter=new Intl.NumberFormat(t.locale.replace("_","-"),{style:"currency",currency:f.default.LANG[t.locale].currency}),t.localizedACUrl=t.getLocalizedACUrl(),t.localizedACUrl||(t.setSearchEngine(),t.localizedACUrl=t.getLocalizedACUrl()),t.pastPurchases||t.getPastPurchases(),t.pastPurchaseHeading=f.default.LANG[t.locale].pastPurchases,t.deptIn=f.default.LANG[t.locale].deptIn,t.deptAll=f.default.LANG[t.locale].deptAll,t.defaultBanner={},t.bannerDocId=f.default.LANG[t.locale].bannerDocId,t.finderBanners=new Map,t.bannerenabled=!1,t.supportedKeys=[9,16,13,27,37,38,39,40],t.maxAutocompleteIndex=-1,t.maxPastPurchIndex=-1,t.tabindexCloseButton=21,t.tabindexViewAll=20,t.tabindexAutocompleteBase=1,t.tabindexPastPurchBase=30,t.MED_BUCKET_THRESHOLD=1280,t.searchValue="",t.topDeptId=null,t.init()})}return o(e,[{key:"search",value:function(){if(0>=this.selectedTabindex()){var e=$(".search-form input").val().trim();if(e&&"*"!==e&&"*.*"!==e){console.log("Directing to search results for term: "+e),this.updateRecentSearches(e);var t=i.default.makeSearchHref(e,null,!1,null,this.topDeptId),r=(0,c.getCookie)("SMSESSION");if(null==document.getElementById("cacheHashForLogin")&&r&&"LOGGEDOFF"!==r){var a=i.default.hashCode(r),n="?ch=";0>t.indexOf("?")||(n="&ch="),t=t+n+a}l.default.searchBox("MANUAL",e),window.location.href=t}}}},{key:"setSearchEngine",value:function(){$.ajax({url:"/search/resources/switches/engine?storeId="+this.storeId,dataType:"json",success:function(e){var t=e.name,r=e.localizedACUrls;if((0,c.setCookie)("searchTracking",t),"undefined"!=typeof Storage)try{i.default.saveToSessionStorage("localizedACUrls",r)}catch(e){console.log("error setting AC session storage")}else console.log("AC session storage not available")},error:function(e){console.log("error getting engine settings"+e)}})}},{key:"getLocalizedACUrl",value:function(){var e="";try{e=i.default.getFromSessionStorage("localizedACUrls")[this.langId]}catch(e){console.log("error getting AC url")}return e}},{key:"getAutoSuggest",value:function(e){var t=this;if(e){var r=Math.floor(1e11+9e11*Math.random()),a={q:e,url:encodeURIComponent(window.location),request_id:r},n=(0,c.getCookie)("_br_uid_2");n&&(a._br_uid_2=n);var o=this.localizedACUrl||this.getLocalizedACUrl();if(!o)return void console.log("Ac request URL is empty");$.ajax({type:"get",url:o,data:a,timeout:1e4,dataType:"jsonp",success:function(e){t.populateAC(e),t.updateFinderBanner()},error:function(e,t,r){console.log("Error while bloomreach autocomplete request: "+t)}})}}},{key:"populateAC",value:function(e){var t=this,r=$(".search-form input").val();if(this.topDeptId=null,e){var a=10,n=$("<ul/>"),o=0;$.each(e.response.suggestions,function(e,s){var c=s.q.replace(r,"<strong>"+r+"</strong>");if(0!=a){var u=$("<a/>").append(c).attr("href",i.default.makeSearchHref(s.q,null,!0)).attr("tabindex",t.tabindexAutocompleteBase+o++).attr("onclick",'SearchService.updateRecentSearches("'+s.q+'")').attr("data",s.q);if(t.addAutocompleteAnalytics(u,s.q,""),n.append(u),--a,s.filters){t.topDeptId=s.filters[0].value;var l=$("<div/>").addClass("departments"),d=$("<a/>").append(t.deptAll).attr("href",i.default.makeSearchHref(s.q,null)).attr("tabindex",t.tabindexAutocompleteBase+o++).attr("onclick",'SearchService.updateRecentSearches("'+s.q+'")').attr("data",s.q);t.addAutocompleteAnalytics(d,s.q,"All Dept"),l.append(d),$.each(s.filters,function(e,r){var n=$("<a/>").append(t.deptIn+r.name).attr("href",i.default.makeSearchHref(s.q,r.value)).attr("tabindex",t.tabindexAutocompleteBase+o++).attr("onclick",'SearchService.updateRecentSearches("'+s.q+'")').attr("data",s.q);t.addAutocompleteAnalytics(n,s.q,r.value),l.append(n),--a}),n.append(l)}}}),$(".search-form input").val()&&($(".autocomplete-data").html(""),$(".autocomplete-heading").text(""),$(".autocomplete-heading").text(f.default.LANG[this.locale].popularSearches),$(".autocomplete-data").append(n))}else console.log("no ac data")}},{key:"getRecentSearches",value:function(){var e=this,t=localStorage.recentSearches;if(t&&"[]"!==t){try{t=JSON.parse(t)}catch(e){return void console.log("error getting recent searches")}var r=$("<ul/>");$.each(t,function(t,a){var n=decodeURIComponent(a),o=n.replace(/\+/g," ").toLowerCase(),s=i.default.makeSearchHref(n,null,!0),c=$("<a/>").append(o).attr("href",s).attr("class","past-search").attr("tabindex",e.tabindexAutocompleteBase+t).attr("onclick",'SearchService.updateRecentSearches("'+n+'")');e.addPastSearchAnalytics(c,o.replace(/\W+/g," ")),r.append(c)}),$(".autocomplete-data").html(""),$(".autocomplete-heading").text(""),$(".autocomplete-heading").text(f.default.LANG[this.locale].pastSearches),$(".autocomplete-data").append(r)}}},{key:"init",value:function(){var e=this;$(window).resize(function(){$(".search-dropdown-container").css("width",$(".search-form-container").width()+"px"),820>document.body.clientWidth&&$(".search-form input").val()&&$(".search-clear").show()}),$(".search-clear").hide(),$(".search-close a").css("visibility","hidden"),$(".search-form input").bind("input propertychange click",function(){$(".search-close a").css("visibility","visible"),$(".search-dropdown-container").css("width",$(".search-form-container").width()+"px"),e.searchValue=$(".search-form input").val(),e.showKeywordSuggestions(),e.updatePastPurchases()}),$(".search-close a").click(function(){$(".search-mmx-container").removeClass("active").addClass("inactive"),$(".header-blur-background").removeClass("active"),$(".search-form input").val(""),$(".search-clear").hide(),$(".search-close a").css("visibility","hidden")}),$(".search-clear").click(function(){$(".search-form input").val(""),$(".search-clear").hide()}),$(document).keydown(function(t){if($(".search-mmx-container.active").length>0)return-1==$.inArray(t.which,e.supportedKeys)?void $(".search-form input").focus():void e.handleKeyNav(t)}),$("#search_url_parameters").length>0&&$("#search_url_parameters #searchKey").length>0&&$("#search_url_parameters #searchKey").val()&&$(".search-form input").val($.trim($("#search_url_parameters #searchKey").val())),$(".autosuggest-area").hide(),$(".autosuggest-banner-area").show(),$(".search-dropdown-content-holder").on("click","a",function(e){e.stopPropagation(),console.log("attached blank for analytics to be fired")}),this.updateFinderBanner(),this.finderBanners=this.getFinderBanners()}},{key:"handleKeyNav",value:function(e){if(this.maxAutocompleteIndex=$(".autocomplete-data > ul a").length-1,this.maxPastPurchIndex=$(".autosuggest-content .mini-tile-container").length-1,!($("#search-products-txt-box:focus").length>0)||0>$.inArray(e.which,[37,39]))switch(e.which){case 27:return void this.handleEscape(e);case 16:break;case 9:this.handleTab(e);break;case 37:this.handleLeftArrow(e);break;case 38:this.handleUpArrow(e);break;case 39:this.handleRightArrow(e);break;case 40:this.handleDownArrow(e);break;case 13:this.handleEnter(e);break;default:return}}},{key:"handleEscape",value:function(e){e.preventDefault(),$(".search-form input").val(""),this.searchValue="",this.showKeywordSuggestions(),this.updatePastPurchases()}},{key:"handleTab",value:function(e){var t=this.selectedTabindex(),r=null;if(e.shiftKey)if(0>t)r=this.tabindexCloseButton;else if(t==this.tabindexCloseButton||t==this.tabindexAutocompleteBase)r=-1;else if(this.isAutocompleteSelected(t))r=this.prevAC(t);else if(this.isViewAllSelected(t))r=-1;else{if(!this.isPastPurchSelected(t))return;r=this.pastPurchUp(t)}else if(0>t)r=this.tabindexAutocompleteBase;else if(t==this.tabindexCloseButton||t==this.tabindexPastPurchBase+2*this.maxPastPurchIndex+1)r=-1;else if(this.isAutocompleteSelected(t))r=this.nextAC(t,!0);else if(this.isViewAllSelected(t))r=this.tabindexPastPurchBase;else{if(!this.isPastPurchSelected(t))return;r=this.pastPurchDown(t)}e.preventDefault(),this.focusTabindex(r)}},{key:"handleEnter",value:function(e){var t=this.selectedTabindex();return t==this.tabindexCloseButton?($('[tabindex="'+this.tabindexCloseButton+'"]').click(),void e.preventDefault()):this.isPastPurchSelected(t)&&(t-this.tabindexPastPurchBase)%2==0?($('[tabindex="'+t+'"] > .img-container > a')[0].click(),void e.preventDefault()):void 0}},{key:"handleLeftArrow",value:function(e){e.preventDefault();var t=this.selectedTabindex(),r=null;0>t?r=this.tabindexAutocompleteBase:this.isAutocompleteSelected(t)||(this.isViewAllSelected(t)?r=this.tabindexAutocompleteBase:this.isPastPurchSelected(t)&&(r=this.pastPurchLeft(t))),this.focusTabindex(r)}},{key:"handleUpArrow",value:function(e){e.preventDefault();var t=this.selectedTabindex(),r=null;0>t?r=this.tabindexCloseButton:this.isAutocompleteSelected(t)?r=this.prevAC(t):this.isViewAllSelected(t)?r=-1:this.isPastPurchSelected(t)&&(r=this.pastPurchUp(t)),this.focusTabindex(r)}},{key:"handleDownArrow",value:function(e){e.preventDefault();var t=this.selectedTabindex(),r=null;0>t?r=this.nextAC(t):this.isAutocompleteSelected(t)?r=this.nextAC(t,!0):this.isViewAllSelected(t)?r=this.tabindexPastPurchBase:this.isPastPurchSelected(t)&&(r=this.pastPurchDown(t)),this.focusTabindex(r)}},{key:"handleRightArrow",value:function(e){e.preventDefault();var t=this.selectedTabindex(),r=null;0>t?r=this.tabindexPastPurchBase:this.isAutocompleteSelected(t)?r=this.tabindexPastPurchBase:this.isViewAllSelected(t)||this.isPastPurchSelected(t)&&(r=this.pastPurchRight(t)),this.focusTabindex(r)}},{key:"nextAC",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0>e)return this.tabindexAutocompleteBase;var a=Math.min(e+1,this.tabindexAutocompleteBase+this.maxAutocompleteIndex);return t&&e+1>this.tabindexAutocompleteBase+this.maxAutocompleteIndex?r?this.tabindexViewAll:-1:a}},{key:"prevAC",value:function(e){var t=1>=arguments.length||void 0===arguments[1]||arguments[1];if(0>e)return this.tabindexAutocompleteBase;var r=Math.max(e-1,this.tabindexAutocompleteBase);return t&&this.tabindexAutocompleteBase>e-1?-1:r}},{key:"pastPurchDown",value:function(e){var t=4;return $(window).width()>this.MED_BUCKET_THRESHOLD||(t=2),this.isPastPurchSelected(e+t)?e+t:e}},{key:"pastPurchUp",value:function(e){var t=-4;return $(window).width()>this.MED_BUCKET_THRESHOLD||(t=-2),this.isPastPurchSelected(e+t)?e+t:this.tabindexViewAll}},{key:"pastPurchRight",value:function(e,t){return this.isPastPurchSelected(e+1)?e+1:t?-1:e}},{key:"pastPurchLeft",value:function(e){return this.isPastPurchSelected(e-1)?e-1:this.tabindexAutocompleteBase}},{key:"pastPurchPrev",value:function(e){return this.isPastPurchSelected(e-1)?e-1:this.tabindexViewAll}},{key:"selectedTabindex",value:function(){var e=$("[tabindex]:focus");return e.length>0?+e.attr("tabindex"):-1}},{key:"focusTabindex",value:function(e){!e||0>e?($(".search-form input").focus(),$(".search-form input").val(this.searchValue)):($('[tabindex="'+e+'"]').focus(),this.tabindexViewAll>e?$('[tabindex="'+e+'"]').attr("data")?$(".search-form input").val($('[tabindex="'+e+'"]').attr("data")):$(".search-form input").val($('[tabindex="'+e+'"]').text()):$(".search-form input").val(""))}},{key:"isAutocompleteSelected",value:function(e){return e>=this.tabindexAutocompleteBase&&this.tabindexAutocompleteBase+this.maxAutocompleteIndex>=e}},{key:"isViewAllSelected",value:function(e){return e==this.tabindexViewAll}},{key:"isPastPurchSelected",value:function(e){return e>=this.tabindexPastPurchBase&&this.tabindexPastPurchBase+2*this.maxPastPurchIndex+1>=e}},{key:"showKeywordSuggestions",value:function(){$(".search-dropdown-container").show();var e=$(".search-form input").val();$(".autocomplete-data").html(""),$(".autocomplete-heading").text(""),e?(820>document.body.clientWidth&&$(".search-clear").show(),$(".hide-above-sm").hide(),this.getAutoSuggest(e)):($(".search-clear").hide(),$(".hide-above-sm").show(),this.getRecentSearches(),this.updateFinderBanner())}},{key:"updateRecentSearches",value:function(e){if(e&&""!==e.replace(/\+/g," ").trim()){e=encodeURIComponent(e.replace(/\s+/g," "));var t=localStorage.recentSearches;if(t&&"[]"!==t)try{t=JSON.parse(t)}catch(e){return void console.log("error getting recent searches")}else t=[];var r=$.inArray(e,t);-1!==r?t.splice(r,1):10>t.length||t.pop(),t.unshift(e);try{localStorage.recentSearches=JSON.stringify(t)}catch(e){console.log("error setting recent searches")}}}},{key:"getPastPurchases",value:function(){var e=this,t="/search/resources/pastPurchase/autocomplete/"+this.storeId+"/"+this.langId;$.ajax({type:"get",url:t,data:{getPrice:"true"},timeout:1e4,dataType:"json",success:function(t){if(console.log("Successfully retrieved past purchase data."),!t||!t.items)return void console.log("No previously purchased items.");e.pastPurchases=t,e.updatePastPurchases()},error:function(e,t,r){console.log("Error fetching past purchases: "+t)}})}},{key:"updatePastPurchases",value:function(){if(!this.pastPurchases||!this.pastPurchases.items)return $(".autosuggest-area").hide(),void $(".autosuggest-banner-area").show();var e=this.pastPurchases.items,t=$(".search-form input").val(),r=RegExp(t.trim(),"i");$(".autosuggest-heading").text(""),$(".autosuggest-content").html(""),$(".autosuggest-area .side-heading").text(""),$(".autosuggest-banner-area").hide();for(var a=0,n=$("<div/>").addClass("mmx-row"),o=0;e.length>o;o++){var s=e[o];if(!t||s.productDescription.search(r)>-1){a++;var i=$("<div/>").addClass("mmx-column col-span-6 tile-placement");if(i.append(this.createProductTile(s.partNumber,s.productURL,s.productImageBase,s.productImage,s.productDescription,s.price,s.reviewRating,s.reviewCount,a-1)),n.append(i),a>=4)break}}$(".autosuggest-content").append(n),a>0?($(".autosuggest-area").show(),$(".autosuggest-heading").text(this.pastPurchaseHeading),$(".autosuggest-area .side-heading").attr("tabindex",this.tabindexViewAll).text(f.default.LANG[this.locale].viewAll),mmx.rating.init()):$(".autosuggest-area").hide()}},{key:"getFinderBanners",value:function(){var e=this;if(this.finderBanners.size>0)return this.finderBanners;var t=i.default.getFromSessionStorage("finderBanners");if(t)try{return this.finderBanners=this.parseBannerDoc(t)}catch(e){console.log("Error parsing cached finder banners."),console.log(e)}try{var r=this.locale.replace("_","-");$.ajax({url:"/search/resources/content-proxy/document?docId="+this.bannerDocId+"&storeId="+this.storeId+"&locale="+r+"&preview=false",dataType:"json",success:function(t){var r=t.message;e.finderBanners=e.parseBannerDoc(r),i.default.saveToSessionStorage("finderBanners",r),console.log("Retrieved finder banner document for id: "+e.bannerDocId)},error:function(e){console.log("Error retrieving finder banner data."),console.log(e)}})}catch(e){console.log("Error parsing finder banner data."),console.log(e)}return this.finderBanners}},{key:"parseBannerDoc",value:function(e){var t=new Map;if(!(this.bannerenabled=((e||{}).items||{})["staplescms:enabled"]||!1))return t;var r=((e||{}).items||{})["staplescms:FinderConfig"],a=!0,n=!1,o=void 0;try{for(var s,i=r[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var c=s.value,u=(c.items||{})["staplescms:FinderBanner"];if(u&&0!=u.length){var l=u[0].items||{},d=l["staplescms:string"],h=l["staplescms:displayName"],f=l["staplescms:path"],p=l["staplescms:isDefault"],m=((l["staplescms:FinderImage"]||{})[0]||{}).items||{},y=m["staplescms:imageUrl"];if(p&&(this.defaultBanner={name:h,url:f,imgUrl:y}),d&&f&&y){var g={name:h,url:f,imgUrl:y},v=!0,b=!1,S=void 0;try{for(var _,w=d[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){t.set(_.value,g)}}catch(e){b=!0,S=e}finally{try{!v&&w.return&&w.return()}finally{if(b)throw S}}}else console.log("Invalid finder banner data : "+h+", "+d+", "+f+", "+y)}}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}return console.log(t.size+" finder banner keywords mapped."),t}},{key:"updateFinderBanner",value:function(){var e=$(".search-form input").val(),t="";e&&$(".autocomplete-data ul a").length>0&&(t=$(".autocomplete-data ul a").eq(0).text());var r=this.finderBanners.has(t),a=null,n=this.finderBanners.get(t);if(this.bannerenabled?($(".ad-area").show(),r?a=n:this.defaultBanner.url&&this.defaultBanner.imgUrl?a=this.defaultBanner:$(".ad-area").hide()):$(".ad-area").hide(),0==$(".search-dropdown-container .ad-area .banner-area a img").length){var o=$("<a/>");$("<img/>").appendTo(o);$(".search-dropdown-container .ad-area .banner-area").append(o)}a&&($(".search-dropdown-container .ad-area .banner-area a").attr({href:a.url}),$(".search-dropdown-container .ad-area .banner-area a img").attr({src:a.imgUrl,title:a.name}),this.updateBannerAnalytics())}},{key:"updateBannerAnalytics",value:function(){var e=$(".search-form input").val()||"",t="";e&&$(".autocomplete-data ul a").length>0&&(t=$(".autocomplete-data ul a").eq(0).text());var r=$(".search-dropdown-container .ad-area .banner-area a img").attr("title")||"";$(".search-dropdown-container .ad-area .banner-area a img").attr("data-analyticstype","SEARCH").attr("data-analyticsdata",'{"term":"'+e+'","entry":"AUTOCOMPLETE","suggestedTerm":"'+t+'","bannerName":"'+r+'"}')}},{key:"createProductTile",value:function(e,t,r,a,n,o,s,i,c){var u=parseInt(e),l=$("<div/>").attr({tabindex:this.tabindexPastPurchBase+2*c}).addClass("mini-tile-container"),d=r||"https://www.staples-3p.com/s7/is/image/Staples/",h=$("<div/>").addClass("img-container").appendTo(l),p=$("<a/>").attr({href:t||""}).appendTo(h),m=$("<img/>").addClass("tile-img").attr({src:d+(a||"").replace("$microthb$","$splssku$")}).appendTo(p),y=$("<div/>").addClass("tile-info"),g=$("<div/>").addClass("tile-description").appendTo(y),v=$("<a/>").attr({href:t||"",tabindex:-1}).html(n||"").appendTo(g),b=$("<div/>").addClass("mmx-rating search-rating").appendTo(y);if("number"==typeof s&&(b.attr({"data-rating":s}),"number"==typeof i&&$("<span/>").addClass("rating-count").text(i).appendTo(y)),"number"==typeof o){var S=$("<div/>").addClass("price-info").appendTo(y);$("<span/>").text(this.currencyFormatter.format(o)).appendTo(S)}$("<button/>").addClass("mini-button").text(f.default.LANG[this.locale].addToCart).attr("onclick",'SearchService.buyNowClick("'+e+'",'+o+")").attr({tabindex:this.tabindexPastPurchBase+2*c+1}).appendTo(y);return this.addPastPurchaseAnalyticsPFM(m,u),this.addPastPurchaseAnalyticsPFM(v,u),l.append(y),l}},{key:"buyNowClick",value:function(e,t){var r=this,a=[{partNumber:e,quantity:1}],n=this.locale.replace("_","-");try{STAPLES.cartOverlay.isCartOverlayReady||(STAPLES.cartOverlay.isCartOverlayReady=!0);var o=l.default.ctaInit(this.getCartInitAnalyticsModel(e,t)),s=function(){l.default.ctaResponse(r.getCartSuccessAnalyticsModel(o,e,t))};STAPLES.cartOverlay.addtoCartAjaxQobin(a,this.langId,this.catalogId,this.storeId,n,null,!1,null,null,null,s,!0)}catch(e){console.log("Unable to call cart! "+e)}}},{key:"getCartInitAnalyticsModel",value:function(e,t){return{type:"ADD_TO_CART",payload:{items:[{sku:e,qty:1,revenue:t}],cartTotal:t,cartSize:1,term:"flyout:Popular Searches:Past Purchases",linkTypeSc:"addtocart",shipMethod:{},locator:{primary:"Auto Suggest",secondary:"Past Purchases",location:"",recType:""}}}}},{key:"getCartSuccessAnalyticsModel",value:function(e,t,r){return{ctaId:e,message:"SUCCESS",type:"ADD_TO_CART",payload:{items:[{sku:t,qty:1,revenue:r}],cartTotal:r,cartSize:1,term:"flyout:Popular Searches:Past Purchases",linkTypeSc:"addtocart",shipMethod:{},locator:{primary:"Auto Suggest",secondary:"Past Purchases",location:"",recType:""}}}}},{key:"addPastSearchAnalytics",value:function(e,t){e.attr("data-analyticstype","SEARCH").attr("data-analyticsdata",'{"term":"'+t+'","entry":"AUTOCOMPLETE"}')}},{key:"addAutocompleteAnalytics",value:function(e,t,r){e.attr("onclick",'SearchService.acAnalytics("'+$(".search-form input").val()+'","'+t+'","'+r+'")')}},{key:"acAnalytics",value:function(e,t,r){l.default.searchBox("AUTOCOMPLETE",e,t,r)}},{key:"addPastPurchaseAnalyticsPFM",value:function(e,t){e.attr("data-analyticstype","PFM").attr("data-analyticsdata",'{"sku":"'+t+'","primary":"Auto Suggest","secondary":"Past Purchases","supltitle":"Past Purchases"}')}}]),e}())},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(12),c=a(i),u=r(1),l=a(u),d=r(13),h=r(0),f=r(2),p=a(f);t.default=new(function(){function e(){var t=this;n(this,e),$(function(){t.setupYourStoreMenu()})}return s(e,[{key:"jsonParser",value:function(e){return Function("return"+e+";")()}},{key:"setupYourStoreMenu",value:function(){var e=this;if(this.store_cookie_name=c.default.COOKIE_NAMES.your_store,this.zip_cookie_name=c.default.COOKIE_NAMES.zip_code,this.storeChanged=!1,this.isFrenchCA=!1,this.primary_store_static_data={},this.primary_store_closed=!1,this.custLocale=(0,h.getCustomerLocale)(),this.store_search_api=c.default.STORE_SEARCH_API[this.custLocale],this.store_locator_link=c.default.STORE_LOCATOR_URL[this.custLocale],this.store_link_partial=c.default.STORE_ADDRESS_LINK_PARTIAL[this.custLocale],this.save_my_store=c.default.SAVE_MY_STORE[this.custLocale],this.ShowSearchResultsOnly=!1,this.isUserLoggedIn=""!==l.default.getCookie(c.default.COOKIE_NAMES.sm_session)||""!==l.default.getCookie(c.default.COOKIE_NAMES.dcsso),this.neighbor_stores=[],this.langObj=c.default.LANG[this.custLocale],$("#storeLocator").attr({href:this.store_locator_link}),""===(this.store_details_cookie=l.default.getCookie(this.store_cookie_name)))if(""===(this.zip_code=l.default.getCookie(this.zip_cookie_name)))this.is_anonymous=!0;else{try{sessionStorage.setItem("zipCode",this.zip_code)}catch(e){}(0,d.addOnPageLoad)(function(){e.setNeighborStores(e.zip_code)})}else{"object"!==o(this.store_details_cookie)&&(this.store_details_cookie=this.jsonParser(this.store_details_cookie)),this.zip_code=this.store_details_cookie.zipCode;try{sessionStorage.setItem("zipCode",this.zip_code)}catch(e){}(0,d.addOnPageLoad)(function(){e.setNeighborStores(e.zip_code)})}!0===this.is_anonymous&&($(".store-top-bar").children().hide(),$(".storeQuot,#yourStoretxt, .changeLocation, #primaryStoreName, #primaryStoreTimings").hide(),$("#search-key-word, .searchLocations").show(),$(".current-store-section").hide(),$(".other-store-section").hide(),$(".default-store-section").show(),$(".default-store-link").attr("href",this.store_locator_link)),this.initSearchInputHandler()}},{key:"initSearchInputHandler",value:function(){var e=this;$("#search-error").hide(),$("#store-results-error").hide(),$("#selectStoreInput").keypress(function(t){if(13===(t.charCode?t.charCode:t.which)){if($("#search-error").hide(),!e.searchValidation($("#selectStoreInput").val()))return t.preventDefault(),$("#search-error").show(),!1;e.storeSearch(t)}})}},{key:"searchValidation",value:function(e){return/^^\w+((,|\s)*\w+)*$/g.test(e)}},{key:"toggleSearchResultsError",value:function(e){e?$("#store-results-error").hide():$("#store-results-error").show()}},{key:"initiatePrimaryStore",value:function(e){e&&e.length?(this.setPrimaryStore(this.store_details_cookie,this.storeChanged,void 0),this.setStoreCookie(),this.is_anonymous=!1):this.is_anonymous=!0}},{key:"setNeighborStores",value:function(e,t){var r=this;sessionStorage.getItem("neighborStores")?(this.neighbor_stores=JSON.parse(sessionStorage.getItem("neighborStores")),this.initiatePrimaryStore(this.neighbor_stores)):this.storeFetch(e,function(e){r.neighbor_stores=e.results.stores;try{sessionStorage.setItem("neighborStores",JSON.stringify(e.results.stores))}catch(e){}r.initiatePrimaryStore(r.neighbor_stores)})}},{key:"setPrimaryStore",value:function(e,t,r){var a=this;if(!r){if(e.storeNumber){var n=this.neighbor_stores.filter(function(t){return t.storeNumber===e.storeNumber})[0];n&&(this.primary_store=n)}this.neighbor_stores.length&&!this.primary_store&&(this.primary_store=this.neighbor_stores[0],this.setStoreCookie())}var o=this.primary_store.workingHourVOs,s=o.filter(function(e){return"WED"===e.day})[0],i=o.filter(function(e){return"SAT"===e.day})[0],c=o.filter(function(e){return"SUN"===e.day})[0],u=(new Date).getDay(),l=100*(new Date).getHours()+(new Date).getMinutes(),d=!1,h=!1,f=this.getTimings(s.openTime,this.isFrenchCA),p=this.getTimings(s.closeTime,this.isFrenchCA),m=this.getTimings(i.openTime,this.isFrenchCA),y=this.getTimings(i.closeTime,this.isFrenchCA),g=this.getTimings(c.openTime,this.isFrenchCA),v=this.getTimings(c.closeTime,this.isFrenchCA);c.openTime===c.closeTime?(d=!0,this.primary_store.store_timings=this.primary_store_static_data.primaryStoreMonThruFri+":\n\t\t\t\t"+f+"-"+p+" "+this.primary_store_static_data.primaryStoreSaturday+": \n\t\t\t\t"+m+"-"+y+" "+this.primary_store_static_data.primaryStoreSunday+": \n\t\t\t\t"+this.primary_store_static_data.primaryStoreClosed):i.openTime===i.closeTime?(h=!0,this.primary_store.store_timings=this.primary_store_static_data.primaryStoreMonThruFri+": \n\t\t\t\t"+f+"-"+p+" "+this.primary_store_static_data.primaryStoreSaturday+": \n\t\t\t\t"+this.primary_store_static_data.primaryStoreClosed+" "+this.primary_store_static_data.primaryStoreSunday+": \n\t\t\t\t"+g+"-"+v):this.primary_store.store_timings=this.primary_store_static_data.primaryStoreMonThruFri+": \n\t\t\t\t"+f+"-"+p+" "+this.primary_store_static_data.primaryStoreSaturday+": \n\t\t\t\t"+m+"-"+y+" "+this.primary_store_static_data.primaryStoreSunday+": \n\t\t\t\t"+g+"-"+v,this.primary_store_closed=!1,0===u?(d||c.closeTime>l&&l>c.openTime||(this.primary_store_closed=!0),this.primary_store.today_timings=g+" - "+v,this.primary_store.today_timingsin24Start=c.openTime,this.primary_store.today_timingsin24End=c.closeTime):6===u?(h||i.closeTime>l&&l>i.openTime||(this.primary_store_closed=!0),this.primary_store.today_timings=m+" - "+y,this.primary_store.today_timingsin24Start=i.openTime,this.primary_store.today_timingsin24End=i.closeTime):(s.closeTime>l&&l>s.openTime||(this.primary_store_closed=!0),this.primary_store.today_timings=f+" - "+p,this.primary_store.today_timingsin24Start=s.openTime,this.primary_store.today_timingsin24End=s.closeTime),this.primary_store&&(this.neighbor_stores=this.neighbor_stores.filter(function(e){if(e.storeNumber!==a.primary_store.storeNumber)return e}),$("#header-store span#primaryStoreName").text(this.primary_store.address.city.trim()+", "+this.primary_store.address.state+" "),$("#primaryStoreTimings").text((this.primary_store_closed?"Closed":"Open")+" "+this.primary_store.today_timings),$(".hours").text((this.primary_store_closed?"Closed":"Open")+" "+this.primary_store.today_timings),$("#open-close-indicator").attr({"data-open-today":this.primary_store.today_timingsin24Start,"data-closed-today":this.primary_store.today_timingsin24End}),mmx&&mmx.storeTime&&mmx.storeTime.updateTime&&mmx.storeTime.updateTime.call(mmx.storeTime),$(".store-title").text(this.primary_store.address.city+", "+this.primary_store.address.state),$("#store-text").html("\n\t\t\t\t"+this.primary_store.address.addressLine1+"<br/>\n\t\t\t\t"+this.primary_store.address.city+", "+this.primary_store.address.state+" "+this.primary_store.address.zipcode+"<br/>\n\t\t\t\t<br/>\n\t\t\t\t"+this.formatPhoneNumber(this.primary_store.address.phoneNumber)+"<br/>\n\t\t\t\t<br/>\n\t\t\t\tMon-Fri: "+f+"-"+p+" EST<br/>\n\t\t\t\tSat: "+m+"-"+y+" EST<br/>\n\t\t\t\tSun: "+g+"-"+v+" EST\n\t\t\t"),$(".store-text-section > .side-link > a").attr({href:""+this.store_link_partial+this.primary_store.address.state+"/"+this.primary_store.address.city.replace(/[^0-9a-zA-Z]/g,"-")+"/"+this.primary_store.storeNumber,target:"_blank"}),$(".current-store-link").attr("href",""+this.store_link_partial+this.primary_store.address.state+"/"+this.primary_store.address.city.replace(/[^0-9a-zA-Z]/g,"-")+"/"+this.primary_store.storeNumber),this.setNeighbouringStoreUI(),this.is_anonymous=!1,$("#storeLocator").find("[data-analyticstype]").data("analyticsdata",this.langObj.yourStore+","+this.langObj.viewAllStores),$(".store-top-bar").children().show(),$(".storeQuot,#yourStoretxt, .changeLocation, #primaryStoreName, #primaryStoreTimings").show(),$(".current-store-section").show(),$("#search-key-word, .searchLocations").hide(),$(".default-store-section").hide(),t&&this.isUserLoggedIn&&this.callNephosApiForLoggedInUser())}},{key:"setStoreCookie",value:function(){var e=this.formatprimaryStoreData();this.persists=!0,this.zip_code=this.primary_store.address.zipcode;var t=JSON.stringify(e);l.default.setCookie(this.store_cookie_name,t,100),"undefined"!=typeof STAPLES&&STAPLES.Cookies&&STAPLES.Cookies.setCookie&&STAPLES.Cookies.setCookie(this.store_cookie_name,t,100)}},{key:"getTimings",value:function(e,t){return t?this.getTimingsinFrench(e):this.getTimingsIn12(e)}},{key:"getTimingsinFrench",value:function(e){return 3===e.length?e=e.slice(0,1)+"h"+e.slice(1,e.length):4===e.length&&(e=e.slice(0,2)+"h"+e.slice(2,e.length)),e}},{key:"getTimingsIn12",value:function(e){var t=e.slice(2),r="";return e>1200?r=e-1200+"pm":1200>e?(60>e&&(e="12"+e.slice(2)),r=e+"am"):1200===e&&(r=e+"pm"),6>r.length&&(r="0"+r),r=t>0?r.slice(0,2)+":"+r.slice(2):r.slice(0,2)+r.slice(-2),r=r.replace(/^0+/,"")}},{key:"initiateNeighbouringStoreUI",value:function(){this.setNeighbouringStoreUI(),!0===this.is_anonymous?($(".other-store-section").show(),$("#storeLocator").find("[data-analyticstype]").data("analyticsdata",this.langObj.setYourStore+","+this.langObj.viewAllStores)):$("#storeLocator").find("[data-analyticstype]").data("analyticsdata",this.langObj.yourStore+","+this.langObj.viewAllStores)}},{key:"storeSearch",value:function(e){var t=this;e.preventDefault();var r=$("#selectStoreInput").val(),a=void 0;if($("#search-error").hide(),!this.searchValidation(r))return $("#search-error").show(),!1;sessionStorage.getItem("zipCode")==r&&sessionStorage.getItem("neighborStores")?(this.neighbor_stores=JSON.parse(sessionStorage.getItem("neighborStores")),this.initiateNeighbouringStoreUI()):this.storeFetch(r,function(e){if("SUCCESS"===e.results.status){t.neighbor_stores=e.results.stores;try{sessionStorage.setItem("zipCode",r)}catch(e){}try{sessionStorage.setItem("neighborStores",JSON.stringify(t.neighbor_stores))}catch(e){}t.initiateNeighbouringStoreUI()}else console.error(e),$("#search-error").show()}),a=this.is_anonymous?"SEARCH_SETYOURSTORE":"SEARCH_YOURSTORE",p.default.storeLocatorTrack(r,a)}},{key:"makeMyStore",value:function(e,t){if(void 0!==this.primary_store){var r=this.primary_store;this.primary_store=this.neighbor_stores.splice(e,1)[0];0==this.neighbor_stores.filter(function(e){return e.storeNumber===r.storeNumber}).length&&this.neighbor_stores.push(r),this.neighbor_stores.sort(function(e,t){return parseFloat(e.distance)-parseFloat(t.distance)})}else this.primary_store=this.neighbor_stores.splice(e,1)[0];if(this.setStoreCookie(),this.setPrimaryStore(void 0,t,!0),"undefined"!=typeof STAPLES&&void 0!==STAPLES.SearchUX&&"undefined"!=typeof stp&&void 0!==stp.trigger&&void 0!==stp.events&&void 0!==stp.events.storeIdChanged)try{stp.trigger(stp.events.storeIdChanged,e)}catch(e){console.error("error triggering search/browse page on store change"+e)}}},{key:"formatPhoneNumber",value:function(e){return"("+e.substring(0,3)+") "+e.substring(3,6)+"-"+e.substring(6,10)}},{key:"setNeighbouringStoreUI",value:function(){var e=this,t=this;$("#neighbour-store > .link-section >.section-text").each(function(r,a){e.neighbor_stores[r]&&$(a).html(e.neighbor_stores[r].address.addressLine1+" <br/>\n\t\t\t\t"+e.neighbor_stores[r].address.city+", "+e.neighbor_stores[r].address.state+" "+e.neighbor_stores[r].address.zipcode),$(a).parent().find("[data-analyticstype]").each(function(r,a){t.is_anonymous?$(a).data("analyticsdata",e.langObj.setYourStore+","+e.langObj.makeMyStore):$(a).data("analyticsdata",e.langObj.yourStore+","+e.langObj.makeMyStore)})}),this.setSearchAndMakeMyStoreWords(this.custLocale)}},{key:"storeFetch",value:function(e,t){$.ajax({url:this.store_search_api+e,type:"GET",jsonp:"callback",dataType:"jsonp",success:function(e){t(e)}})}},{key:"formatprimaryStoreData",value:function(){return{address1:this.primary_store.address.addressLine1,city:this.primary_store.address.city,state:this.primary_store.address.state,zipCode:this.primary_store.address.zipcode,storeNumber:this.primary_store.storeNumber,persists:!0}}},{key:"callNephosApiForLoggedInUser",value:function(){fetch(this.save_my_store,{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",method:"POST",body:JSON.stringify(this.formatprimaryStoreData())}).then(function(e){console.log(e)}).catch(function(e){console.error(e)})}},{key:"setSearchAndMakeMyStoreWords",value:function(e){var t=c.default.LANG[e];$("#neighbour-store > .link-section >.side-link").each(function(e,r){$(r).text(t.makeMyStore)})}}]),e}())},function(e,t,r){"use strict";e.exports={ID:0,STORE_SEARCH_API:{en_CA:"http://api.staples.com/v1/storelocator/storesSearch.json?client_id=5HqW3l3dv9NEoEH7chtC6wdwSAsN4viE&locale=en_CA&limit=5&radius=100&hours=true&address=",fr_CA:"http://api.staples.com/v1/storelocator/storesSearch.json?client_id=5HqW3l3dv9NEoEH7chtC6wdwSAsN4viE&locale=fr_CA&limit=5&radius=100&hours=true&address=",en_US:"https://api.staples.com/v1/storelocator/storesSearch.json?client_id=5HqW3l3dv9NEoEH7chtC6wdwSAsN4viE&locale=en_US&limit=5&radius=100&hours=true&address="},STORE_LOCATOR_URL:{en_CA:"http://storelocator.staples.ca/?locale=en_CA",fr_CA:"http://storelocator.staples.ca/?locale=fr_CA",en_US:"https://stores.staples.com/search"},STORE_ADDRESS_LINK_PARTIAL:{en_CA:"http://storelocator.staples.ca/stores/en_CA/",fr_CA:"http://storelocator.staples.ca/stores/fr_CA/",en_US:"http://storelocator.staples.com/stores/en_US/"},SAVE_MY_STORE:{en_US:"/personalinfo/api/user/address?type=preferred_store"},COOKIE_NAMES:{zip_code:"zipcode",your_store:"YourStore",cart_items:"StaplesCart",sm_data:"SMDATA",sm_session:"SMSESSION",welcome_msg:"WelcomeMsg",user_info:"StaplesUserInfo",rewards_info:"StaplesRewardsInfo",customer_tier:"customerTier",dcssod:"dcssod",dcsso:"dcsso"},LANG:{en_US:{search:"Search",makeMyStore:"Make my store",viewAllStores:"View All Stores",setYourStore:"Set Your Store",yourStore:"Your Store"},en_CA:{search:"Search",makeMyStore:"Make my store",viewAllStores:"View All Stores",setYourStore:"Set Your Store",yourStore:"Your Store"},fr_CA:{search:"Chercher",makeMyStore:"choisissez",viewAllStores:"View All Stores",setYourStore:"Set Your Store",yourStore:"Your Store"}}}},function(e,t,r){"use strict";e.exports={addOnPageLoad:function(e){if("loading"===document.readyState||"interactive"===document.readyState){var t="";window.addEventListener?t="load":window.attachEvent&&(t="onload"),window.addEventListener(t,e,!1)}else"complete"!==document.readyState&&"loaded"!==document.readyState||e()}}},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(15),s=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(0),c=r(1);t.default=new(function(){function e(){var t=this;a(this,e),$(function(){t.setUpAccountMenu()})}return n(e,[{key:"setUpAccountMenu",value:function(){var e=this.getCustomerType();e===s.default.CUSTOMER_TYPES.customer?($("#accountSignOut").show(),$("#accountSignIn").hide(),$("#accountWelcomeMsg").addClass("no-border"),$("#header-create-account").hide(),$("#signin-text").hide(),$("#account-text").show()):e===s.default.CUSTOMER_TYPES.cookied_guest?($("#accountWelcomeMsg").addClass("no-border"),$("#accountSignIn").show(),$("#accountSignOut").hide(),$("#header-create-account").show(),$("#account-text").hide(),$("#signin-text").show()):($("#accountSignIn").show(),$("#accountSignOut").hide(),$("#header-create-account").show(),$("#account-text").hide(),$("#signin-text").show()),$("#accountWelcomeMsg").html(this.getWelcomeMessage(e))}},{key:"getCustomerType",value:function(){var e=(0,c.getCookie)(s.default.COOKIE_NAMES.sm_session),t=(0,c.getCookie)(s.default.COOKIE_NAMES.dcsso),r=e||t;return r&&r.length>0&&"LOGGEDOFF"!==r?s.default.CUSTOMER_TYPES.customer:r&&r.length>0&&"LOGGEDOFF"==r?s.default.CUSTOMER_TYPES.cookied_guest:s.default.CUSTOMER_TYPES.guest}},{key:"getRewardsProgramName",value:function(){var e=(0,c.getCookie)(s.default.COOKIE_NAMES.user_info),t=(0,c.getCookie)(s.default.COOKIE_NAMES.rewards_info);if(e||t){var r=(0,c.getCookie)(s.default.COOKIE_NAMES.customer_tier);if(r){r=r.replace(/([{,])(\s*)([A-Za-z0-9_\-]+?)\s*:/g,'$1"$3":'),r=JSON.parse(r);var a=r.tier;if(s.default.REWARD_TYPES.business_rewards_plus_tiers.indexOf(a)>-1)return s.default.REWARD_TYPES.business_rewards_plus;if(s.default.REWARD_TYPES.rewards_tiers.indexOf(a)>-1)return s.default.REWARD_TYPES.rewards}}return""}},{key:"getRewardsBalance",value:function(){var e=(0,c.getCookie)(s.default.COOKIE_NAMES.rewards_info);e=e.replace(/([{,])(\s*)([A-Za-z0-9_\-]+?)\s*:/g,'$1"$3":'),e=JSON.parse(e);return 28.75.toLocaleString((0,i.getCustomerLocale)().replace("_","-"),{style:"currency",currency:"USD"})}},{key:"getWelcomeMessage",value:function(e){var t=void 0,r=(0,c.getCookie)(s.default.COOKIE_NAMES.welcome_msg);return r=r.replace(RegExp("\\+","g")," "),r&&'""'!=r&&r.length>0?' " " '==r?(r="",t=$("#accountSignOutWelcomeMsg").val()+'&nbsp;<span class="username">'+r+"</span>"):t=$("#accountSignOutWelcomeMsg").val()+'&nbsp;<span class="username">'+r+"</span>":t=$("#accountSignInWelcomeMsg").val(),t}},{key:"updateWelcomeMessage",value:function(e){$("#accountWelcomeMsg").html(this.getWelcomeMessage(s.default.CUSTOMER_TYPES.customer))}}]),e}())},function(e,t,r){"use strict";e.exports={CUSTOMER_TYPES:{guest:"guest",customer:"customer",cookied_guest:"cookied_guest"},REWARD_TYPES:{rewards:"Rewards",business_rewards_plus:"Business Rewards Plus",business_rewards_plus_tiers:["PR6","PR7"],rewards_tiers:["BSE","BFS","PMR","PG5","PP5","PPL","G10","P15","TRW","TRP"]},COOKIE_NAMES:{zip_code:"zipcode",your_store:"YourStore",cart_items:"StaplesCart",sm_data:"SMDATA",sm_session:"SMSESSION",welcome_msg:"WelcomeMsg",user_info:"StaplesUserInfo",rewards_info:"StaplesRewardsInfo",customer_tier:"customerTier",dcssod:"dcssod",dcsso:"dcsso"}}},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t.default=new(function(){function e(){a(this,e),$(function(){$("#connectChatOn").hide();var e=setInterval(function(){try{if("undefined"!=typeof insideFrontInterface&&insideFrontInterface.getAvailableAssistants&&"function"==typeof insideFrontInterface.getAvailableAssistants){insideFrontInterface.getAvailableAssistants().length>0?($("#connectChatOn").show(),$("#connectChatOff").hide()):($("#connectChatOff").show(),$("#connectChatOn").hide())}}catch(t){clearInterval(e),console.error("Cleared interval due to error!",t)}},1e3)})}return n(e,[{key:"openChat",value:function(){openPFReactiveChat&&"function"==typeof openPFReactiveChat&&openPFReactiveChat()}}]),e}())},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),i=r(4),c=a(i),u=r(2),l=a(u),d=r(5),h=a(d);t.default=new(function(){function e(){var t=this;n(this,e),$(function(){t.storeId=(0,s.getStoreIdFromLocale)(),t.locale=(0,s.getCustomerLocale)(),t.baseQueryParams={storeId:(0,s.getStoreIdFromLocale)(),langId:(0,s.getLangIdFromLocale)(),locale:(0,s.getCustomerLocale)()},t.init(),t.setUpInkAndTonerMenu(),t.analyticsItfPath=["Products","Ink and Toner","INK AND TONER"],t.analyticsItfSearchText="Header:Ink & Toner:Ink and Toner Finder:Basic Search"})}return o(e,[{key:"setUpInkAndTonerMenu",value:function(){this.callITF("brands",this.baseQueryParams)}},{key:"findInkAndToner",value:function(){this.submitInkAndToner($(".itf-form input").val().trim())}},{key:"submitInkAndToner",value:function(e){if(e&&"*"!==e&&"*.*"!==e){var t=c.default.makeSearchHref(e,null,!1,h.default.LANG[this.locale].categoryId);l.default.linkTrack("GENERIC_LINK",null,this.analyticsItfSearchText,this.analyticsItfPath,"HEADER","FLYOUT"),window.location.href=t}}},{key:"callITF",value:function(e,t){var r=this;$.ajax({url:"/search-itf/printers/"+e,data:t,dataType:"json",success:function(a){switch(e){case"brands":a&&a.brands&&($("#itf-brand .itf-dropdown").empty().append($("<option>",{text:"Brand"})),$.each(a.brands,function(e,t){$("#itf-brand .itf-dropdown").append($("<option>",{value:t.name,text:t.name}))}));break;case"series":$("#itf-printer").hide(),a&&a.series&&($("#itf-printer .itf-dropdown").empty().append($("<option>",{text:"Series"})),$.each(a.series,function(e,t){$("#itf-printer .itf-dropdown").append($("<option>",{value:t.name,text:t.name}))}),1==a.series.length?(t.seriesName=a.series[0].name,r.callITF("models",t)):($("#itf-printer").show(),$("#itf-printer .itf-dropdown").prop("selectedIndex",0)));break;case"models":$("#itf-series").hide(),a&&a.models&&($("#itf-series .itf-dropdown").empty().append($("<option>",{text:"Model"})),$.each(a.models,function(e,t){$("#itf-series .itf-dropdown").append($("<option>",{value:t.url,text:t.name}))}),$("#itf-series").show(),$("#itf-series .itf-dropdown").prop("selectedIndex",0));break;case"ads":console.log(a)}},error:function(e){console.log("error getting ink and toner details "+e)}})}},{key:"init",value:function(){var e=this;$(".itf-form .mmx-icon-search").on("click",function(){e.findInkAndToner()}),$(".itf-form input").keypress(function(t){if(13==t.which)return e.findInkAndToner(),!1}),$("#itf-printer").hide(),$("#itf-series").hide(),$("#itf-brand .itf-dropdown").on("change",function(){var t=e.baseQueryParams;t.brand=$(this).val(),$("#itf-printer").hide(),$("#itf-series").hide(),l.default.inkTonerTrack("BRAND",$(this).val(),"Step 1 Selected",e.analyticsItfPath,"HEADER","OVERLAY"),e.callITF("series",t)}),$("#itf-printer .itf-dropdown").on("change",function(){var t=e.baseQueryParams;t.brand=$("#itf-brand .itf-dropdown").val(),t.seriesName=$(this).val(),$("#itf-series").hide(),l.default.inkTonerTrack("SERIES",$(this).val(),"Step 2 Selected",e.analyticsItfPath,"HEADER","OVERLAY"),e.callITF("models",t)}),$("#itf-series .itf-dropdown").on("change",function(){l.default.inkTonerTrack("MODEL",$(this).find("option:selected").text(),"Step 3 Selected",e.analyticsItfPath,"HEADER","OVERLAY"),$(this).find("option:selected").attr("value")&&(window.location.href=$(this).find("option:selected").attr("value"))})}}]),e}())},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(1),s=r(19),i=r(20);t.default=new(function(){function e(){var t=this;a(this,e),this.ncObject={},$(function(){t.serviceDidMount()})}return n(e,[{key:"serviceDidMount",value:function(){this.context=(0,s.getContext)(i.CART_CONTEXT_KEY),this.ncObject=this.getNCLocalStorage(),this.updateNCLocalStorage(this.ncObject)}},{key:"isNephos",value:function(){return((0,o.getCookie)(i.COOKIE_NAMES.nephosCart).length&&(0,o.getCookie)(i.COOKIE_NAMES.nephos).length)>0}},{key:"getItemCountFromCookie",value:function(){var e=/\d+\+item/gi,t=/\+item/,r=((0,o.getCookie)(i.COOKIE_NAMES.default).match(e)||[]).pop();return r?r.replace(t,""):null}},{key:"getNCLocalStorage",value:function(){return localStorage.getItem(i.CART_STORAGE_KEYS.nephos)?JSON.parse(localStorage.getItem(i.CART_STORAGE_KEYS.nephos)):{}}},{key:"getFromLocalStorage",value:function(e){if(localStorage.getItem(i.CART_STORAGE_KEYS.nephos)){var t=JSON.parse(localStorage.getItem(i.CART_STORAGE_KEYS.nephos));return t[e]?t[e]:null}}},{key:"getProp",value:function(e,t,r){return e&&Object.keys(e).length>0&&t&&e.hasOwnProperty(t)?e[t]:r}},{key:"fetchCartDetails",value:function(){return fetch("/gp/api/getcart",{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e&&e.cart?{numberOfItems:e.cart.cartAttributes?e.cart.cartAttributes.numberOfItems:0,preTax:e.cart.cartSummary?e.cart.cartSummary.preTaxSubTotal:0,cartdId:e.cart.cartId,ctxToken:e.cart.contextId}:{}}).catch(function(e){throw e})}},{key:"generateUniqueToken",value:function(){var e=(0,o.getCookie)(i.COOKIE_NAMES.jSessionId),t=(0,o.getCookie)(i.COOKIE_NAMES.staplesUserInfo);return t&&(t=JSON.stringify(t)),e.concat(t)}},{key:"updateNCLocalStorage",value:function(e){var t=this;if(e){void 0===this.context&&(this.context=(0,s.getContext)(i.CART_CONTEXT_KEY));e.uniqueToken==this.generateUniqueToken()?(this.setNCLocalStorage(e),this.setCartItemCountText(),this.renderSubTotal()):this.fetchCartDetails().then(function(e){e.uniqueToken=t.generateUniqueToken(),t.ncObject=e,t.setNCLocalStorage(e),t.setCartItemCountText(),t.renderSubTotal()}).catch(function(e){console.log("error in fetching cart details ==> "+e),t.setCartItemCountText(),t.renderSubTotal()})}}},{key:"setNCLocalStorage",value:function(e){localStorage.setItem(i.CART_STORAGE_KEYS.nephos,JSON.stringify(e))}},{key:"getCartItemCount",value:function(){return this.getFromLocalStorage(i.CART_STORAGE_KEYS.items)}},{key:"setCartItemCountText",value:function(){var e=this.getProp(this.ncObject,i.CART_STORAGE_KEYS.items,0),t=this.context.items,r=+e;e?e>99?(0,s.renderText)(".cart-counter","99+"):(0,s.renderText)(".cart-counter",e):(0,s.renderText)(".cart-counter",""),1===r?(0,s.renderText)("#STP--Cart-NumberItems",e+" "+t.singular):r>1?(0,s.renderText)("#STP--Cart-NumberItems",e+" "+t.plural):(0,s.renderText)("#STP--Cart-NumberItems",""+t.default)}},{key:"renderSubTotal",value:function(){var e=this.context.subtotal,t=this.getProp(this.ncObject,i.CART_STORAGE_KEYS.subtotal,0);if(t)(0,s.renderText)("#STP-Cart-Subtotal",""+e.currency+t);else{var r=this.getProp(this.ncObject,i.CART_STORAGE_KEYS.total,0);r?(0,s.renderText)("#STP-Cart-Subtotal",""+e.currency+r):(0,s.renderText)("#STP-Cart-Subtotal",""+e.default)}}},{key:"updateCartItems",value:function(e){e&&Object.keys(e).length>0&&(e.uniqueToken=this.generateUniqueToken(),this.ncObject=e,this.updateNCLocalStorage(e))}}]),e}())},function(e,t,r){"use strict";function a(e,t){$(e).text(""),$(e).text(t)}function n(e){return $("#mmx-header").data(e)?JSON.parse(JSON.stringify($("#mmx-header").data(e)))||{}:{items:{plural:"items",singular:"item",default:"0 items"},subtotal:{currency:"$",default:"$0.00"}}}e.exports={renderText:a,getContext:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COOKIE_NAMES={nephosCart:"nephoscart",nephos:"NS17",default:"StaplesCart",contextToken:"ctx-token",jSessionId:"JSESSIONID",staplesUserInfo:"StaplesUserInfo"},t.CART_STORAGE_KEYS={nephos:"nc",items:"numberOfItems",subtotal:"preTax",total:"total"},t.CART_CONTEXT_KEY="cart"},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t.default=new(function(){function e(){a(this,e)}return n(e,[{key:"expandCollapse",value:function(e){if(820>=window.innerWidth)if($(e).parent().next(".submenu-items").hasClass("display-menu"))$(e).parent().next(".display-menu")&&this.resetSubMenu();else{this.resetSubMenu();var t=$(e).parent().next(".submenu-items");t.addClass("display-menu");var r=t.find(".footer-span").length,a=24*r+"px";t.css("height",a)}}},{key:"resetSubMenu",value:function(){$(".display-menu").removeClass("display-menu"),$(".submenu-items").css("height","")}}]),e}())},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t.default=new(function(){function e(){var t=this;a(this,e),$(function(){t.init()})}return n(e,[{key:"renderSuperCategory",value:function(e){e.stopPropagation();var t=e.target||e.srcElement,r=$(t).data("menutype");if(r){var a=$(t).data("link")||"";$(this.smBrowse.smNavigation).addClass("inactive"),$("#super-category-"+r).addClass("active"),this.renderBreadCrumb("superCategory",$(t).text()),this.renderPageTitle($(t).text(),a)}}},{key:"renderSubCategory",value:function(e){e.stopPropagation();var t=e.target||e.srcElement,r=$(t).closest(".super-category-wrapper");if($(r).find(".sub-category-list").length>0){var a=$(t).data("link")||"";$(r).find(".sub-category-list").addClass("active"),$(this.smBrowse.superCategoryListActive).find(this.smBrowse.superCategoryItem).addClass("inactive"),this.renderBreadCrumb("subCategory",$(t).text()),this.renderPageTitle($(t).text(),a)}}},{key:"renderSubCategories",value:function(e){e.stopPropagation();var t=e.target||e.srcElement,r=$(t).closest(".sub-category-wrapper");if($(r).find(".sub-categories-list").length>0){var a=$(t).data("link")||"";$(r).find(".sub-categories-list").addClass("active"),$(this.smBrowse.superCategoryListActive).find(this.smBrowse.subCategoryItem).addClass("inactive"),this.renderBreadCrumb("subCategories",$(t).text()),this.renderPageTitle($(t).text(),a)}}},{key:"returnBreadCrumb",value:function(e,t){return t?"<div class=sm-navigation-breadcrumb-item data-type="+e+">"+t+"</div>":null}},{key:"renderBreadCrumb",value:function(e,t){var r=this.returnBreadCrumb(e,t);$(this.smBrowse.smBrowseBreadCrumb).append(r)}},{key:"removeBreadCrumbItems",value:function(e){if(e>-1){var t=e-1;if(t>-1){var r=$(this.smBrowse.smBrowseBreadCrumb).children().get(t);this.renderPageTitle($(r).text(),$(r).data("link")||"")}$(this.smBrowse.smBrowseBreadCrumb).children().slice(e).remove()}}},{key:"renderBrowseMenu",value:function(e){e.stopPropagation();var t=e.target||e.srcElement,r=$(t).data("type");r&&("superCategory"===r?($(this.smBrowse.superCategoryListActive).find(".active").removeClass("active"),$(this.smBrowse.superCategoryListActive).find(".inactive").removeClass("inactive"),$(this.smBrowse.smNavigation).removeClass("inactive"),$(this.smBrowse.superCategoryList).removeClass("active"),this.removeBreadCrumbItems(0)):"subCategory"===r?($(this.smBrowse.superCategoryListActive).find(".active").removeClass("active"),$(this.smBrowse.superCategoryListActive).find(".inactive").removeClass("inactive"),this.removeBreadCrumbItems(1)):"subCategories"===r&&($(this.smBrowse.superCategoryListActive).find(this.smBrowse.subCategoriesListActive).removeClass("active"),$(this.smBrowse.superCategoryListActive).find(this.smBrowse.subCategoryItem).removeClass("inactive"),this.removeBreadCrumbItems(2)))}},{key:"renderPageTitle",value:function(e,t){t?$(this.smBrowse.superCategoryListActive).find(".page-title").empty().append("<a href="+t+" title="+e+">"+e+"</a>"):$(this.smBrowse.superCategoryListActive).find(".page-title").text(e)}},{key:"initEvents",value:function(){$(this.smBrowse.smBrowseMenu).on("click",this.renderSuperCategory.bind(this)),$(this.smBrowse.superCategoryItem).on("click",this.renderSubCategory.bind(this)),$(this.smBrowse.subCategoryItem).on("click",this.renderSubCategories.bind(this)),$(this.smBrowse.smBrowseBreadCrumb).on("click",this.smBrowse.smBrowseBreadCrumbItem,this.renderBrowseMenu.bind(this))}},{key:"init",value:function(){this.smBrowse={smBrowseMenu:".sm-browse-menu",superCategoryList:".super-category-list",superCategoryListActive:".super-category-list.active",superCategoryItem:".super-category-item",subCategoryList:".sub-category-list",subCategoryListActive:".sub-category-list.active",subCategoryItem:".sub-category-item",subCategoriesList:".sub-categories-list",subCategoriesListActive:".sub-categories-list.active",smBrowseBreadCrumb:".sm-navigation-breadcrumb",smBrowseBreadCrumbItem:".sm-navigation-breadcrumb-item",smNavigation:".sm-navigation"},this.initEvents()}}]),e}())},function(e,t,r){(function(t,a){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function n(e){return"function"==typeof e}function o(e){H=e}function s(e){G=e}function i(){return void 0!==K?function(){K(u)}:c()}function c(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;z>e;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}z=0}function l(e,t){var r=arguments,a=this,n=new this.constructor(h);void 0===n[ee]&&I(n);var o=a._state;return o?function(){var e=r[o-1];G(function(){return x(o,n,e,a._result)})}():C(a,n,e,t),n}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(h);return S(r,e),r}function h(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return ne.error=e,ne}}function y(e,t,r,a){try{e.call(t,r,a)}catch(e){return e}}function g(e,t,r){G(function(e){var a=!1,n=y(r,t,function(r){a||(a=!0,t!==r?S(e,r):w(e,r))},function(t){a||(a=!0,A(e,t))},"Settle: "+(e._label||" unknown promise"));!a&&n&&(a=!0,A(e,n))},e)}function v(e,t){t._state===re?w(e,t._result):t._state===ae?A(e,t._result):C(t,void 0,function(t){return S(e,t)},function(t){return A(e,t)})}function b(e,t,r){t.constructor===e.constructor&&r===l&&t.constructor.resolve===d?v(e,t):r===ne?(A(e,ne.error),ne.error=null):void 0===r?w(e,t):n(r)?g(e,t,r):w(e,t)}function S(t,r){t===r?A(t,f()):e(r)?b(t,r,m(r)):w(t,r)}function _(e){e._onerror&&e._onerror(e._result),T(e)}function w(e,t){e._state===te&&(e._result=t,e._state=re,0!==e._subscribers.length&&G(T,e))}function A(e,t){e._state===te&&(e._state=ae,e._result=t,G(_,e))}function C(e,t,r,a){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+re]=r,n[o+ae]=a,0===o&&e._state&&G(T,e)}function T(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var a=void 0,n=void 0,o=e._result,s=0;t.length>s;s+=3)a=t[s],n=t[s+r],a?x(r,a,n,o):n(o);e._subscribers.length=0}}function k(){this.error=null}function $(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function x(e,t,r,a){var o=n(r),s=void 0,i=void 0,c=void 0,u=void 0;if(o){if(s=$(r,a),s===oe?(u=!0,i=s.error,s.error=null):c=!0,t===s)return void A(t,p())}else s=a,c=!0;t._state!==te||(o&&c?S(t,s):u?A(t,i):e===re?w(t,s):e===ae&&A(t,s))}function E(e,t){try{t(function(t){S(e,t)},function(t){A(e,t)})}catch(t){A(e,t)}}function P(){return se++}function I(e){e[ee]=se++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e,t){this._instanceConstructor=e,this.promise=new e(h),this.promise[ee]||I(this.promise),Y(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):A(this.promise,R())}function R(){return Error("Array Methods must be provided an Array")}function B(e){return new O(this,e).promise}function L(e){var t=this;return new t(Y(e)?function(r,a){for(var n=e.length,o=0;n>o;o++)t.resolve(e[o]).then(r,a)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function N(e){var t=this,r=new t(h);return A(r,e),r}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(e){this[ee]=P(),this._result=this._state=void 0,this._subscribers=[],h!==e&&("function"!=typeof e&&M(),this instanceof U?E(this,e):D())}function F(){var e=void 0;if(void 0!==a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=U}var j=void 0;j=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y=j,z=0,K=void 0,H=void 0,G=function(e,t){Q[z]=e,Q[z+1]=t,2===(z+=2)&&(H?H(u):Z())},q="undefined"!=typeof window?window:void 0,V=q||{},W=V.MutationObserver||V.WebKitMutationObserver,J="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=Array(1e3),Z=void 0;Z=J?function(){return function(){return t.nextTick(u)}}():W?function(){var e=0,t=new W(u),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():X?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===q?function(){try{var e=r(26);return K=e.runOnLoop||e.runOnContext,i()}catch(e){return c()}}():c();var ee=Math.random().toString(36).substring(16),te=void 0,re=1,ae=2,ne=new k,oe=new k,se=0;return O.prototype._enumerate=function(e){for(var t=0;this._state===te&&e.length>t;t++)this._eachEntry(e[t],t)},O.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,a=r.resolve;if(a===d){var n=m(e);if(n===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(r===U){var o=new r(h);b(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},O.prototype._settledAt=function(e,t,r){var a=this.promise;a._state===te&&(this._remaining--,e===ae?A(a,r):this._result[t]=r),0===this._remaining&&w(a,this._result)},O.prototype._willSettleAt=function(e,t){var r=this;C(e,void 0,function(e){return r._settledAt(re,t,e)},function(e){return r._settledAt(ae,t,e)})},U.all=B,U.race=L,U.resolve=d,U.reject=N,U._setScheduler=o,U._setAsap=s,U._asap=G,U.prototype={constructor:U,then:l,catch:function(e){return this.then(null,e)}},U.polyfill=F,U.Promise=U,U})}).call(t,r(24),r(25))},function(e,t){function r(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function n(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):y=-1,p.length&&i())}function i(){if(!m){var e=n(s);m=!0;for(var t=p.length;t;){for(f=p,p=[];++y<t;)f&&f[y].run();y=-1,t=p.length}f=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,d,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{d="function"==typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var f,p=[],m=!1,y=-1;h.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;arguments.length>r;r++)t[r-1]=arguments[r];p.push(new c(e,t)),1!==p.length||m||n(i)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){r(28),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e+=""),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function i(e){var t=new FileReader,r=s(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=s(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=Array(t.length),a=0;t.length>a;a++)r[a]=String.fromCharCode(t[a]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=""+e;else if(g.arrayBuffer&&g.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!S(e))throw Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(i)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var r=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),a=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(n))}}),t}function m(e){var t=new n;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),a=r.shift().trim();if(a){var n=r.join(":").trim();t.append(a,n)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&300>this.status,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},S=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,a){e=t(e),a=r(a);var n=this.map[e];this.map[e]=n?n+","+a:a},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,a){this.map[t(e)]=r(a)},n.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},g.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];y.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=f,e.Response=y,e.fetch=function(e,t){return new Promise(function(r,a){var n=new f(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL"),r(new y("response"in o?o.response:o.responseText,e))},o.onerror=function(){a(new TypeError("Network request failed"))},o.ontimeout=function(){a(new TypeError("Network request failed"))},o.open(n.method,n.url,!0),"include"===n.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),n.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,r){"use strict";var a=a||{};!function(e,t){a.SPARX=a.SPARX||function(){return{loadJSAsync:function r(a,n){if("loading"===t.readyState||"interactive"===t.readyState){var o="";e.addEventListener?o="load":e.attachEvent&&(o="onload"),e.addEventListener(o,function(){r(a,n)},!1)}else if("complete"===t.readyState||"loaded"===t.readyState){var s=t.createElement("script");s.async=!0,s.type="text/javascript",s.src=a;var i=t.getElementsByTagName("script")[0];n&&s.addEventListener("load",n,!1),i.parentNode.insertBefore(s,i)}}}}()}(window,document),a.SPARX.loadJSAsync("//ui.staples-sparx.com/js/75ba92ac-d950-59d3-404f-cad319637171/analytics.min.js",void 0),a.Cookies&&a.Cookies.getCookie&&"1"===a.Cookies.getCookie("euf")||a.SPARX.loadJSAsync("/js/ux2/common/SparxHog.js",void 0)}]);
//# sourceMappingURL=sdc-header-footer-bundle.6839de8.js.map